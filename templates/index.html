<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login & Signup</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            display: flex;
            justify-content: flex-start;
            margin-left:250px;
            align-items: center;
            height: 100vh;
            background: url('/static/images/indexbg3.jpg') no-repeat center center fixed;
            background-size: cover;
            font-family: Arial, sans-serif;
        }

        .card {
            width: 600px;
            border-radius: 10px;
            box-shadow: 0px 4px 15px rgba(0, 0, 0, 0.2);
            overflow: hidden;
            animation: fadeIn 0.5s;
            height:430px;
        }
        .toggle-button {
            cursor: pointer;
            transition: color 0.3s;
        }
        .toggle-button:hover {
            color: #6a11cb;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: scale(0.9); }
            to { opacity: 1; transform: scale(1); }
        }
        .form-error {
            color: red;
            font-size: 0.9em;
        }
        nav {
                position: fixed;
                top: 0px; /* Adjust the top margin */
                left: 0px;
                 /* Adjust the left margin */
                background-color: transparent; /* Optional, if you want a background */
                padding: 5px;
                z-index: 1000; /* Ensures navbar stays on top */
            }

            nav ul {
                list-style-type: none;
                margin: 0;
                padding: 0;
                display: flex;
                gap: 20px; /* Space between navbar items */
                
            }

            nav ul li {
                display: inline-block;
                
                
                background-color: rgba(0, 0, 0, 0.8); /* Slight transparent white background */
                transition: background-color 0.3s ease;
                
                font-size:2rem;
            }

            nav ul li a {
                text-decoration: none;
                color: #fdfafa; /* Adjust the color as per your design */
                font-size: 16px; /* Adjust font size */
                padding: 10px ; /* Add horizontal padding for better spacing */
                display: block; /* Ensure links fill the list items */
                transition: color 0.3s ease, background-color 0.3s ease;
                font-size:2rem;
                font-family: 'Merienda', cursive;
                font-weight: bolder;
                text-transform: uppercase;
                
            }

            nav ul li a:hover {
                color: #007bff; /* Adjust hover color */
                background-color: rgba(0, 123, 255, 0.1); /* Hover effect for background */
            }

            nav ul li:hover {
                background-color: rgba(255, 255, 255, 0.9); /* Hover effect for list item */
            }


    </style>
</head>
<body>
    <header>
        <nav>
            <ul>
                <li><a href="">&nbsp&nbsp&nbsp&nbspComprehensive Nutritional Analysis and Personalized Diet Support&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp</a></li>
            </ul>
        </nav>
    </header>
<div class="card">
    <div class="card-body">
        <h3 class="text-center mb-4">Welcome</h3>
        <div class="text-center mb-3">
            <span id="toggle-login" class="toggle-button text-primary">Login</span> |
            <span id="toggle-signup" class="toggle-button text-secondary">Signup</span>
        </div>
        
        <!-- Login Form -->
        <form id="login-form" action="/login" method="POST">
            <div class="mb-3">
                <label for="login-username" class="form-label">Username</label>
                <input type="text" id="login-username" name="login-email" class="form-control" placeholder="Enter your username" required>
                <div id="login-username-error" class="form-error"></div>
            </div>
            <div class="mb-3">
                <label for="login-password" class="form-label">Password</label>
                <input type="password" id="login-password" name="login-password" class="form-control" placeholder="Enter your password" required>
                <div id="login-password-error" class="form-error"></div>
            </div>
            <input type="submit" class="btn btn-primary w-100" value="Login">
        </form>

        <!-- Signup Form -->
        <form id="signup-form" class="d-none" action="/signup" method="POST">
            <div class="row">
                <div class="col-md-6 mb-3">
                    <label for="signup-fullname" class="form-label">Full Name</label>
                    <input type="text" id="signup-fullname" name="signup-fullname" class="form-control" placeholder="Enter your full name" required>
                    <div id="signup-fullname-error" class="form-error"></div>
                </div>
                <div class="col-md-6 mb-3">
                    <label for="signup-mobile" class="form-label">Mobile</label>
                    <input type="text" id="signup-mobile" name="signup-mobile" class="form-control" placeholder="Enter your mobile number" required>
                    <div id="signup-mobile-error" class="form-error"></div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-6 mb-3">
                    <label for="signup-email" class="form-label">Email</label>
                    <input type="email" id="signup-email" name="signup-email" class="form-control" placeholder="Enter your email" required>
                    <div id="signup-email-error" class="form-error"></div>
                </div>
                <div class="col-md-6 mb-3">
                    <label for="signup-password" class="form-label">Password</label>
                    <input type="password" id="signup-password" name="signup-password" class="form-control" placeholder="Enter your password" required>
                    <div id="signup-password-error" class="form-error"></div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-6 mb-3">
                    <label for="signup-confirm-password" class="form-label">Confirm Password</label>
                    <input type="password" id="signup-confirm-password" name="signup-confirm-password" class="form-control" placeholder="Confirm your password" required>
                    <div id="signup-confirm-password-error" class="form-error"></div>
                </div>
            </div>
            <input type="submit" class="btn btn-success w-100" value="Signup">
        </form>
    </div>
</div>

<script>
    const loginForm = document.getElementById('login-form');
    const signupForm = document.getElementById('signup-form');
    const toggleLogin = document.getElementById('toggle-login');
    const toggleSignup = document.getElementById('toggle-signup');

    toggleLogin.addEventListener('click', () => {
        loginForm.classList.remove('d-none');
        signupForm.classList.add('d-none');
        toggleLogin.classList.remove('text-secondary');
        toggleLogin.classList.add('text-primary');
        toggleSignup.classList.remove('text-primary');
        toggleSignup.classList.add('text-secondary');
    });

    toggleSignup.addEventListener('click', () => {
        signupForm.classList.remove('d-none');
        loginForm.classList.add('d-none');
        toggleSignup.classList.remove('text-secondary');
        toggleSignup.classList.add('text-primary');
        toggleLogin.classList.remove('text-primary');
        toggleLogin.classList.add('text-secondary');
    });

    loginForm.addEventListener('submit', (e) => {
        e.preventDefault();
        const username = document.getElementById('login-username').value;
        const password = document.getElementById('login-password').value;

        let isValid = true;

        if (!username) {
            isValid = false;
            document.getElementById('login-username-error').textContent = 'Username is required';
        } else {
            document.getElementById('login-username-error').textContent = '';
        }

        if (!password) {
            isValid = false;
            document.getElementById('login-password-error').textContent = 'Password is required';
        } else {
            document.getElementById('login-password-error').textContent = '';
        }

        if (isValid) {
    e.target.submit();  // Submit the form after validation
}
    });

    signupForm.addEventListener('submit', (e) => {
        e.preventDefault();
        const fullname = document.getElementById('signup-fullname').value;
        const mobile = document.getElementById('signup-mobile').value;
        const email = document.getElementById('signup-email').value;
        const password = document.getElementById('signup-password').value;
        const confirmPassword = document.getElementById('signup-confirm-password').value;

        let isValid = true;

        if (!fullname) {
            isValid = false;
            document.getElementById('signup-fullname-error').textContent = 'Full name is required';
        } else {
            document.getElementById('signup-fullname-error').textContent = '';
        }

        if (!mobile || !/^[0-9]{10}$/.test(mobile)) {
            isValid = false;
            document.getElementById('signup-mobile-error').textContent = 'Valid mobile number is required';
        } else {
            document.getElementById('signup-mobile-error').textContent = '';
        }

        if (!email || !/^[^@]+@[^@]+\.[^@]+$/.test(email)) {
            isValid = false;
            document.getElementById('signup-email-error').textContent = 'Valid email is required';
        } else {
            document.getElementById('signup-email-error').textContent = '';
        }

        if (!password || password.length < 6) {
            isValid = false;
            document.getElementById('signup-password-error').textContent = 'Password must be at least 6 characters';
        } else {
            document.getElementById('signup-password-error').textContent = '';
        }

        if (password !== confirmPassword) {
            isValid = false;
            document.getElementById('signup-confirm-password-error').textContent = 'Passwords do not match';
        } else {
            document.getElementById('signup-confirm-password-error').textContent = '';
        }

        if (isValid) {
    e.target.submit();  // Submit the form after validation
}
    });
</script>

</body>
</html>
